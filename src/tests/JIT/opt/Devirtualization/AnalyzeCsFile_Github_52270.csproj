<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <Optimize>True</Optimize>
    <GCStressIncompatible>true</GCStressIncompatible> <!-- too slow -->
    <!--CLRTestPriority>1</CLRTestPriority--> <!-- will enable it after the current CI run -->
  </PropertyGroup>
  <ItemGroup>
    <Compile Include="AnalyzeCsFile_Github_52270.cs" />
    <EmbeddedResource Include="AnalyzeCsFile_Github_52270_cs.test" />
  </ItemGroup>
  <PropertyGroup>
    <CLRTestBatchPreCommands><![CDATA[
$(CLRTestBatchPreCommands)
set DOTNET_TieredCompilation=1
set DOTNET_TC_QuickJitForLoops=1
set DOTNET_TC_CallCountThreshold=30
set DOTNET_JitEnableGuardedDevirtualization=1
set DOTNET_TieredPGO=1
set DOTNET_ReadyToRun=0
set DOTNET_ZapDisable=1
]]></CLRTestBatchPreCommands>
    <BashCLRTestPreCommands><![CDATA[
$(BashCLRTestPreCommands)
export DOTNET_TieredCompilation=1
export DOTNET_TC_QuickJitForLoops=1
export DOTNET_TC_CallCountThreshold=30
export DOTNET_JitEnableGuardedDevirtualization=1
export DOTNET_TieredPGO=1
export DOTNET_ReadyToRun=0
export DOTNET_ZapDisable=1
]]></BashCLRTestPreCommands>
  </PropertyGroup>
</Project>
